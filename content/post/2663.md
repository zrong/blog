+++
title = "å¤„ç† Emoji"
postid = 2663
date = 2018-01-05T13:09:36+08:00
isCJKLanguage = true
toc = false
type = "post"
slug = "about-emoji"
aliases = [ "/post/2663.html",]
category = [ "technology",]
tag = [ "python", "node",]
+++


**2018-04-12æ›´æ–°ï¼š ** åŠ å…¥ä½¿ç”¨ [unicodedata][unicodedata] çš„ä»£ç èŒƒä¾‹ã€‚


Emoji æ˜¯ Unicode å­—ç¬¦é›†çš„ä¸€éƒ¨åˆ†ã€‚ç›®å‰æˆ‘çœ‹è¿‡çš„æœ€å¥½çš„ä»‹ç» unicode çš„æ–‡ç« æ˜¯è¿™ä¸€ç¯‡ï¼š [å†™ç»™ç¨‹åºå‘˜çš„ Unicode å…¥é—¨ä»‹ç»][unicodedev] ã€‚

ç¨‹åºå‘˜ç»å¸¸è¦å¤„ç† Emoji ã€‚åœ¨å¾®ä¿¡æµè¡Œèµ·æ¥ä¹‹åï¼Œè®¸å¤šä½¿ç”¨å¾®ä¿¡ä½œä¸ºç¬¬ä¸‰æ–¹è´¦å·ç™»å½•çš„ App/Game éƒ½é¢ä¸´å¤„ç† Emoji çš„é—®é¢˜ï¼Œå› ä¸ºå¾®ä¿¡çš„æ˜µç§°ä¸­å¯ä»¥åŒ…å« Emojiã€‚

æœ¬æ–‡ä»‹ç»ä¸€äº›å¤„ç† Emoji çš„ç›¸å…³ä¿¡æ¯ï¼Œä¸å±•å¼€ã€‚ <!--more-->

## æ“ä½œç³»ç»Ÿæ”¯æŒ

Emoji æ˜¯éœ€è¦æ“ä½œç³»ç»Ÿæ”¯æŒçš„ã€‚æ¯ä¸ªæ“ä½œç³»ç»Ÿå®ç°çš„ Emoji ä¸å¤ªç›¸åŒã€‚Windows/iOS/Android/macOS çš„æœ€æ–°ç‰ˆæœ¬éƒ½å¯¹ Emoji æä¾›äº†æ”¯æŒã€‚

æƒ³çœ‹ä¸€ä¸‹ä¸åŒæ“ä½œç³»ç»Ÿä¸‹çš„åŒä¸€ä¸ª Emoji å½¢è±¡æœ‰ä½•ä¸åŒï¼Œå¯ä»¥çœ‹è¿™é‡Œï¼š [Emoji Unicode Tables][tables] ã€‚

### Android

Android 4.4 å¼€å§‹æ”¯æŒå®Œæ•´çš„ Emoji åˆ—è¡¨ã€‚åœ¨è¾“å…¥æ³•ä¸­å°±èƒ½æ‰“å¼€ Emoji é¢æ¿ã€‚

### iOS 

iOS 8.3 å¼€å§‹æ”¯æŒå®Œæ•´çš„ Emoji ã€‚åŸç”Ÿé”®ç›˜ä¸Šå°±æä¾›äº† Emoji é¢æ¿ã€‚

### macOS

macOS Sierra 10.12 ä¸­ï¼Œç›´æ¥æŒ‰ä¸‹ `Command - Control - Spacebar` ç»„åˆé”®å°±èƒ½æ‰“å¼€ Emoji é¢æ¿ã€‚

### Windows

Windows 10 å’Œ Windows 8.1 çš„è§¦æ‘¸é”®ç›˜æä¾›äº†å¯¹ Emoji çš„é¢æ¿æ”¯æŒã€‚

## æ•°æ®åº“æ”¯æŒ

å¯¹äº MySQL æ¥è¯´ï¼Œå¦‚æœéœ€è¦å­˜å‚¨ Emoji ç¼–ç ï¼Œéœ€è¦åœ¨ [MySQL 5.5.3 æˆ–æ›´é«˜ç‰ˆæœ¬ä¸­å¯ç”¨ utf8mb4][mysql] ç¼–ç ã€‚

## ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢ Emoji

æœ€ç®€å•çš„å¤„ç†æ–¹æ¡ˆå°±æ˜¯æŠŠå­—ç¬¦ä¸²ä¸­çš„ Emoji æ¸…é™¤æ‰ã€‚

åœ¨ Javascript ä¸­ï¼Œå¯ä»¥é‡‡ç”¨ä¸‹é¢çš„ä»£ç ï¼ˆä¸ä¿è¯å®Œæ•´ï¼‰ï¼š

``` javascript
/**
 * è¿‡æ»¤æ‰å­—ç¬¦ä¸­çš„emoji
 * @param strWithEmoji
 * @returns {string}
 */
Utils.clearEmoji = function (strWithEmoji) {
  if (strWithEmoji) {
    return strWithEmoji.replace(/([\uE000-\uF8FF]|\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDDFF])/g, '')
  }
  return ''
}
```

åœ¨ Python 3.3 æˆ–æ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ä¸‹é¢çš„ä»£ç ï¼š

``` python
import re

EMOJI_RE = re.compile(ur"""
    [\U0001F600-\U0001F64F] # emoticons
    |
    [\U0001F300-\U0001F5FF] # symbols & pictographs
    |
    [\U0001F680-\U0001F6FF] # transport & map symbols
    |
    [\U0001F1E0-\U0001F1FF] # flags (iOS)
""", re.VERBOSE)

def clear_emoji(str_with_emoji):
    if str_with_emoji:
        return EMOJI_RE.sub(str_with_emoji, '')
    return ''
```

## ä½¿ç”¨åº“å·¥å…·

Python è‡ªå¸¦ä¸€ä¸ª [unicodedata][unicodedata] åº“ï¼Œæä¾›äº† unicode è½¬æ¢åŠŸèƒ½ã€‚

ä¸‹é¢çš„ `replace_emoji` æ–¹æ³•å°±ä½¿ç”¨ unicodedata æä¾›çš„åŠŸèƒ½æ¥è¿›è¡Œè½¬æ¢ï¼ˆå½“ç„¶ï¼Œæ²¡æœ‰è€ƒè™‘æ€§èƒ½é—®é¢˜ï¼‰ï¼š

``` python
def replace_emoji(self, input_string):
    for character in input_string:
        try:
            character.encode("ascii")
            return_string += character
        except UnicodeEncodeError:
            replaced = str(character)
            if replaced != '':
                return_string += replaced
            else:
                try:
                    return_string += "[" + unicodedata.name(character) + "]"
                except ValueError:
                    return_string += "[x]"
    return return_string
```

[emoji-cheat-sheet.com][cheat] é¡¹ç›®åˆ™æä¾›äº†å¤§é‡çš„åº“å¯ä¾›é€‰æ‹©ï¼ŒåŒ…æ‹¬ Ruby/Javascript/Objective-C/Java/Python/Swift ã€‚

ä¾‹å¦‚å¯¹äº Python ä¸­çš„åº“ emojiï¼Œåªéœ€è¦ç®€å•çš„ä»£ç å°±èƒ½åœ¨ Emoji å’Œ `:name:` å½¢å¼è§äº’ç›¸è½¬æ¢ï¼š

``` python
import emoji

print(emoji.demojize('Hello ğŸŒŠ'))
# 'Hello :water_wave:'
print(emoji.emojize('Hello :water_wave:'))
# 'Hello ğŸŒŠ'
```

## å…¶å®ƒ

### Emoji-Helper

ä¸€ä¸ªæµè§ˆå™¨æ’ä»¶ï¼Œæ”¯æŒåœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤º Emojiã€‚

http://johannh.me/emoji-helper/

### getemoji.com

ä¸€ä¸ªä»‹ç» Emoji çš„ç½‘ç«™ï¼Œå¯ä»¥åœ¨ä¸Šé¢æŸ¥çœ‹å’Œå¤åˆ¶ Emoji ã€‚

http://getemoji.com/

### Playing with Emoji

è¿™ä¸ªç½‘ç«™æä¾›äº†ä¸åŒæ“ä½œç³»ç»Ÿä¸­ Emoji å½¢è±¡çš„åŠŸèƒ½ï¼Œå¾ˆå®¹æ˜“è¿›è¡Œå¯¹æ¯”ã€‚

https://apps.timwhitlock.info/emoji

### Unicode Emoji Charts

Emoji çš„å®˜æ–¹ç½‘ç«™ã€‚

http://unicode.org/emoji/charts/

{{< label å…¨æ–‡å®Œ info >}}

[unicodedev]: http://blog.jobbole.com/111261/
[emojicharts]: http://unicode.org/emoji/charts/
[mysql]: https://dev.mysql.com/doc/refman/5.5/en/charset-unicode-utf8mb4.html
[unicodedata]: https://docs.python.org/3.6/library/unicodedata.html
[cheat]: https://github.com/WebpageFX/emoji-cheat-sheet.com
[tables]: https://apps.timwhitlock.info/emoji/tables/unicode
